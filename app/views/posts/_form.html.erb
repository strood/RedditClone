<% action = (post.persisted? ? post_url(post) : posts_url) %>
<% method = (post.persisted? ? 'patch' : 'post') %>
<% message =(post.persisted? ? 'Update Post' : 'Create Post') %>


<form action="<%= action %>" method="post">
    <input
      type="hidden"
      name="_method"
      value="<%= method %>">
    <%= auth_token %>

    <label for="title">Title:</label>
    <input
      type="text"
      name="post[title]">

    <label for="url">URL *optional*: </label>
    <input
      type="text"
      name="post[url]">

    <label for="content">Content *optional*:</label>
    <textarea id="description" name="post[content]" rows="8" cols="60"></textarea>

    <label for="sub">Sub:</label>
    <select id="sub" name="post[sub]">
      <option>-- Choose One --</option>
      <% Sub.all.each do |sub| %>
        <option value="<%= sub.id %>">
          <%= h(sub.title) %>
        </option>
      <% end %>
    </select>

    <br>

    <input type="submit" value="<%= message %>">
</form>
